<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>

  <meta charset="UTF-8">

  <title>Insurance Policies</title>

  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">

    <a class="navbar-brand" href="#">Insurance Management</a>

    <div class="navbar-nav">

      <a class="nav-item nav-link" th:href="@{/}">Home</a>

      <a class="nav-item nav-link" th:href="@{/clients/view}">Clients</a>

      <a class="nav-item nav-link active" th:href="@{/policies/view}">Policies</a>

    </div>

  </nav>

  <div class="container mt-4">

    <h2 class="text-center text-primary">Insurance Policies</h2>

    <a class="btn btn-success mb-3" th:href="@{/policies/new}">Add New Policy</a>

    <table class="table table-striped table-bordered">

      <thead class="thead-dark">

        <tr>

          <th>ID</th>

          <th>Type</th>

          <th>Coverage</th>

          <th>Premium</th>

          <th>Start Date</th>

          <th>End Date</th>

          <th>Policy Holder</th>

          <th>Actions</th>

        </tr>

      </thead>

      <tbody>

        <tr th:each="policy : ${policies}">

          <td th:text="${policy.policyId}"></td>

          <td th:text="${policy.type}"></td>

          <td th:text="${policy.coverageAmount}"></td>

          <td th:text="${policy.premium}"></td>

          <td th:text="${#dates.format(policy.startDate, 'dd/MM/yyyy')}"></td>

          <td th:text="${#dates.format(policy.endDate, 'dd/MM/yyyy')}"></td>

          <td th:text="${policy.policyHolder.name}"></td>

          <td>

            <a class="btn btn-warning btn-sm" th:href="@{/policies/edit/{id}(id=${policy.policyId})}">Edit</a>

            <a class="btn btn-danger btn-sm" th:href="@{/policies/delete/{id}(id=${policy.policyId})}" onclick="return confirm('Are you sure?')">Delete</a>

          </td>

        </tr>

      </tbody>

    </table>

  </div>

  <footer class="footer bg-dark text-white text-center py-3">

    &copy; 2025 Insurance Management

  </footer>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>
